<div class="modal-main" hidden>
    <div class="modal-container">
      <div class="modal-headers">
        <h1 class="modal-title">Tạo nhóm mới của bạn</h1>
        <p class="modal-subtitle">Nhập tên và chọn ảnh</p>
      </div>
      <form action='<%= home%>/chat/groupChat' 
        method="POST"
        enctype="multipart/form-data"
        >
      <div class="upload-container">
        <div class="upload-circle">
          <input name='avatar' type="file" class="file-input" accept="image/*" id="server-icon" required>
          <img id="preview" class="preview-image" src="" alt="Preview">
          <div class="upload-icon" id="upload-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" stroke="#72767d" stroke-width="2"/>
              <path d="M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z" stroke="#72767d" stroke-width="2"/>
              <path d="M21 15L16 10L5 21" stroke="#72767d" stroke-width="2"/>
            </svg>
          </div>
          <div class="upload-text" id="upload-text">Tải lên</div>
          <div class="plus-button">+</div>
        </div>
      </div>
  
      <div class="modal-body">
        <div class="input-group">
          <label class="input-label">Tên nhóm</label>
          <input name='roomName' type="text" class="input-field" placeholder="Nhập tên">
        </div>
      </div>
  
      <div class="modal-footer">
        <button class="btn btn-back" onclick="closeCreategr()" type="button">Quay lại</button>
        <button class="btn btn-create" type="submit">Tạo</button>
      </div>
      </form>
    </div>
  </div>
  <script>
    document.getElementById('server-icon').addEventListener('change', function(e) {
      if (e.target.files && e.target.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(event) {
          const preview = document.getElementById('preview');
          preview.src = event.target.result;
          preview.style.display = 'block';
          
          // Hide the upload icon and text when an image is selected
          document.getElementById('upload-icon').style.display = 'none';
          document.getElementById('upload-text').style.display = 'none';
        }
        
        reader.readAsDataURL(e.target.files[0]);
      }
    });
    function closeCreategr(){
        const modal= document.querySelector('.modal-main');
        modal.hidden=true;
    }
  </script>